<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sanco x ESOFA Arcade HUB</title>
    <style>
        :root { --accent: #00ffff; --sanco-red: #ff0000; --esofa-gold: #d4af37; --bg: #0a0a0c; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Courier New', monospace; }
        header { padding: 30px; text-align: center; border-bottom: 3px solid var(--accent); background: #000; }
        .container { max-width: 1000px; margin: auto; padding: 20px; }
        
        .profile-bar { display: flex; justify-content: space-around; background: #111; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #333; flex-wrap: wrap; }
        .stat { font-weight: bold; }
        .stat span { color: var(--accent); }

        .shop-box { background: #16161a; border: 2px solid #333; padding: 20px; border-radius: 15px; margin-bottom: 30px; text-align: center; }
        .skin-list { display: flex; gap: 15px; justify-content: center; margin: 15px 0; }
        .skin-item { width: 45px; height: 45px; border-radius: 50%; border: 3px solid #444; cursor: pointer; transition: 0.2s; position: relative; }
        .skin-item:hover { transform: scale(1.1); border-color: var(--accent); }
        .price-tag { font-size: 10px; position: absolute; bottom: -20px; width: 100%; left: 0; color: #888; text-transform: uppercase; }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .card { background: #111; border: 1px solid #333; border-radius: 10px; overflow: hidden; text-decoration: none; color: white; transition: 0.3s; }
        .card:hover { border-color: var(--accent); transform: translateY(-5px); }
        .card-content { padding: 20px; }
        .card-content h3 { margin: 0; color: var(--accent); text-transform: uppercase; }
        .play-btn { background: #222; padding: 12px; text-align: center; font-weight: bold; border-top: 1px solid #333; color: var(--accent); }

        .sponsor-box { margin-top: 40px; padding: 20px; background: #000; border-radius: 15px; text-align: center; border: 1px dashed #444; }
        .s-btn { display: inline-block; padding: 10px 20px; margin: 5px; border-radius: 5px; text-decoration: none; font-weight: bold; }
        .qr-section img { background: white; padding: 5px; border-radius: 5px; margin-top: 10px; width: 120px; }
    </style>
</head>
<body>

<header>
    <h1>SANCO x ESOFA ARCADE</h1>
    <div class="profile-bar">
        <div class="stat">TAG: <span id="p-name">EXPLORER</span></div>
        <div class="stat">NOTES: <span id="p-notes" style="color:var(--esofa-gold)">0</span> ♪</div>
        <div class="stat">SKIN: <span id="p-skin">DEFAULT</span></div>
    </div>
</header>

<div class="container">
    <div class="shop-box">
        <h3 style="margin:0;">COSMETIC SHOP</h3>
        <p style="color:#777; font-size: 0.8rem;">Purchased skins stay unlocked forever!</p>
        <div class="skin-list">
            <div class="skin-item" style="background: #3498db;" onclick="handleSkin('Blue', '#3498db', 0)"><span class="price-tag" id="tag-Blue">FREE</span></div>
            <div class="skin-item" style="background: #e74c3c;" onclick="handleSkin('Red', '#e74c3c', 25)"><span class="price-tag" id="tag-Red">25 ♪</span></div>
            <div class="skin-item" style="background: #2ecc71;" onclick="handleSkin('Green', '#2ecc71', 100)"><span class="price-tag" id="tag-Green">100 ♪</span></div>
            <div class="skin-item" style="background: #f1c40f;" onclick="handleSkin('Gold', '#f1c40f', 500)"><span class="price-tag" id="tag-Gold">500 ♪</span></div>
        </div>
        <p id="shop-msg" style="font-size: 0.8rem; margin-top: 20px;">Collect ♪ Notes in Sanco's Escape!</p>
    </div>

    <div class="grid">
        <a href="https://puppyplaz2019.github.io/Night_Hunt/" class="card"><div class="card-content"><h3>Night Hunt</h3><p>Thermal scope spotting.</p></div><div class="play-btn">LAUNCH</div></a>
        <a href="https://puppyplaz2019.github.io/The-Racers/" class="card"><div class="card-content"><h3>The Racers</h3><p>High-speed friction racing.</p></div><div class="play-btn">DRIVE</div></a>
        <a href="https://puppyplaz2019.github.io/Sancos_Great_Escape/" class="card"><div class="card-content"><h3>Sanco's Escape</h3><p>Survival runner. Earn ♪ Notes here!</p></div><div class="play-btn">RUN</div></a>
        <a href="https://puppyplaz2019.github.io/stickman-war/" class="card"><div class="card-content"><h3>Stickman War</h3><p>1v1 Physics combat.</p></div><div class="play-btn">FIGHT</div></a>
        <a href="https://puppyplaz2019.github.io/Harmony_Clicker/" class="card"><div class="card-content"><h3>Harmony Click</h3><p>Rhythm challenge.</p></div><div class="play-btn">PLAY</div></a>
        <a href="https://puppyplaz2019.github.io/fundraiser_esofa/" class="card"><div class="card-content"><h3>Fundraiser ESOFA</h3><p>Help reach the goal!</p></div><div class="play-btn">SUPPORT</div></a>
    </div>

    <div class="sponsor-box">
        <a href="https://www.youtube.com/@SancoOutdoors" class="s-btn" style="background:var(--sanco-red); color:white;">SUB TO SANCO</a>
        <a href="https://www.sanangelogives.org/organization/emmanuelschooloffinearts" class="s-btn" style="background:var(--esofa-gold); color:black;">TIP ESOFA</a>
        <div class="qr-section">
            <p style="font-size: 0.7rem; color: #555; margin-top: 15px;">SCAN FOR MOBILE ARCADE</p>
            <div id="qr-code"></div>
        </div>
    </div>
</div>

<script>
    // --- DATA HANDLING ---
    function getPurchasedSkins() {
        return JSON.parse(localStorage.getItem('purchased_skins') || '["Blue"]');
    }

    function syncData() {
        const notes = parseInt(localStorage.getItem('notes_collected') || 0);
        const skinName = localStorage.getItem('active_skin_name') || "Blue";
        const purchased = getPurchasedSkins();
        
        document.getElementById('p-notes').innerText = notes;
        document.getElementById('p-skin').innerText = skinName.toUpperCase();

        // Update tags in shop
        ['Blue', 'Red', 'Green', 'Gold'].forEach(s => {
            const tag = document.getElementById('tag-' + s);
            if (purchased.includes(s)) {
                tag.innerText = "OWNED";
                tag.style.color = "var(--accent)";
            }
        });
    }

    function handleSkin(name, color, cost) {
        let notes = parseInt(localStorage.getItem('notes_collected') || 0);
        let purchased = getPurchasedSkins();

        // Case 1: Already Own it
        if (purchased.includes(name)) {
            equipSkin(name, color);
            document.getElementById('shop-msg').innerText = name + " Equipped!";
            return;
        }

        // Case 2: Buying it
        if (notes >= cost) {
            notes -= cost;
            localStorage.setItem('notes_collected', notes);
            
            purchased.push(name);
            localStorage.setItem('purchased_skins', JSON.stringify(purchased));
            
            equipSkin(name, color);
            document.getElementById('shop-msg').innerText = "Purchased and Equipped " + name + "!";
        } else {
            document.getElementById('shop-msg').innerText = "Need " + (cost - notes) + " more ♪ Notes!";
            document.getElementById('shop-msg').style.color = "red";
        }
    }

    function equipSkin(name, color) {
        localStorage.setItem('active_skin_name', name);
        localStorage.setItem('active_skin_hex', color);
        document.getElementById('shop-msg').style.color = color;
        syncData();
    }

    // --- SECRET CHEAT ---
    let cheatBuffer = "";
    window.addEventListener('keydown', (e) => {
        cheatBuffer += e.key.toLowerCase();
        if (cheatBuffer.includes("sanco")) {
            localStorage.setItem('notes_collected', 9999);
            cheatBuffer = "";
            document.getElementById('shop-msg').innerText = "SECRET UNLOCKED: +9999 NOTES";
            document.getElementById('shop-msg').style.color = "gold";
            syncData();
        }
        if (cheatBuffer.length > 10) cheatBuffer = cheatBuffer.substring(1);
    });

    const qrBox = document.getElementById('qr-code');
    qrBox.innerHTML = `<img src="https://chart.googleapis.com/chart?cht=qr&chs=150x150&chl=${encodeURIComponent(window.location.href)}">`;

    syncData();
</script>
</body>
</html>
